{% extends 'base.html.twig' %}

{% block title %}
	{{ parent() }}
	- Catégories
	{{slug}}
{% endblock %}

{% block body %}
	<div id="index-category">
		<h1>//CATÉGORIES_</h1>
		<div id="index-category-cards">
			{% for category in categories %}
				<div class="category-carousel">
					<h2>{{category.label}}</h2>
					<section class="splide" id="{{category.label}}-slider" aria-label="Splide Basic HTML Example">
						<div class="splide__track">
							<ul class="splide__list">
								{% for video in videos[category.label] %}
									<li class="splide__slide">
										<div class="{{slug}}-card category-card">
											<img src="{{video.thumbnail}}" alt="thumbnail of {{video.title}}">
											<h3>{{video.title}}</h3>
											<p>{{video.description}}</p>
											<a class="btn-glitch-fill" href="{{ path("video_show", { 'slug': video.slug } )}}">
												<span class="text">//Vidéo</span>
												<span class="text-decoration">_</span>
												<span class="decoration">&rArr;</span>
											</a>
										</div>
									</li>
								{% endfor %}
							</ul>
						</div>
					</section>
					<a class="all-videos" href="{{ path("video_show_by_category", { 'categoryLabel': category.label, 'slug': slug })}}">Toutes les vidéos</a>
				</div>
			{% endfor %}
		</div>
	</div>
	<script>
		document.addEventListener('DOMContentLoaded', function () {

var splideOne = new Splide('#Cours-slider', {
perPage: 3,
perMove: 1,
gap: '4rem',
pagination: false,
type: 'loop',
autoplay: true,
breakpoints: {
768: {
perPage: 1
}
}
});

splideOne.mount();
});

document.addEventListener('DOMContentLoaded', function () {

var splideTwo = new Splide('#Tutoriel-slider', {
perPage: 3,
perMove: 1,
gap: '4rem',
pagination: false,
type: 'loop',
autoplay: true,
breakpoints: {
768: {
perPage: 1
}
}
});

splideTwo.mount();
});

document.addEventListener('DOMContentLoaded', function () {

var splideThree = new Splide('#LiveCoding-slider', {
perPage: 3,
perMove: 1,
gap: '4rem',
pagination: false,
type: 'loop',
autoplay: true,
breakpoints: {
768: {
perPage: 1
}
}
});

splideThree.mount();
});
	</script>
{% endblock %}
